{% extends "base.html" %}
{% block content %}

<nav class="navbar navbar-dark bg-dark">
    <a href="#" class="navbar-brand">Manage Money</a>
    <a href="/logout" align="right">logout</a>
</nav>

<div id="modal">

    <br>
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-1">収入</div>
        <div class="col-sm-4">
            ￥{{ data.income }}
            <i class="far fa-edit faa-float animated-hover" @click="i_edit(`{{ data.income }}`)"></i>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-3">
            <div class="card" style="width:18rem;">
                <div class="card-header food">
                    食費（設定：￥{{ data.food_st }}）
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="f_edit(`{{ data.food_st }}`,`{{ data.c_food_ex }}`)"></i>
                </div>
                <div class="card-body food">
                    ￥{{ data.c_food_ex }}
                </div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <div class="col-sm-2">
            <div class="card" style="width:18rem;">
                <div class="card-header fixed-ex">
                    家賃
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="r_edit(`{{ data.rent_cost }}`)"></i>
                </div>
                <div class="card-body">
                    ￥{{ data.rent_cost }}
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-3">
            <div class="card" style="width:18rem;">
                <div class="card-header daily">
                    日用品（設定：￥{{ data.daily_st }}）
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="d_edit(`{{ data.daily_st }}`,`{{ data.c_daily_ex }}`)"></i>
                </div>
                <div class="card-body daily">
                    ￥{{ data.c_daily_ex }}
                </div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <div class="col-sm-2">
            <div class="card" style="width:18rem;">
                <div class="card-header fixed-ex">
                    奨学金
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="s_edit(`{{ data.scholar }}`)"></i>
                </div>
                <div class="card-body">
                    ￥{{ data.scholar }}
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-3">
            <div class="card" style="width:18rem;">
                <div class="card-header hobby">
                    趣味（設定：￥{{ data.hobby_st }}）
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="h_edit(`{{ data.hobby_st }}`,`{{ data.c_hobby_ex }}`)"></i>
                </div>
                <div class="card-body hobby">
                    ￥{{ data.c_hobby_ex }}
                </div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <div class="col-sm-2">
            <div class="card" style="width:18rem;">
                <div class="card-header fixed-ex">
                    光熱費
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="u_edit(`{{ data.utility_cost }}`)"></i>
                </div>
                <div class="card-body">
                    ￥{{ data.utility_cost }}
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-3">
            <div class="card" style="width:18rem;">
                <div class="card-header last">残高</div>
                <div class="card-body last">
                    ￥{{ data.last_ex }}
                </div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <div class="col-sm-2">
            <div class="card" style="width:18rem;">
                <div class="card-header fixed-ex">
                    通信費・その他
                    <i class="far fa-edit fa-pull-right faa-float animated-hover" @click="o_edit(`{{ data.other }}`)"></i>
                </div>
                <div class="card-body">
                    ￥{{ data.other }}
                </div>
            </div>
        </div>
    </div>

    <!---------------------------- modal ---------------------------->

    <modal v-if="showModal == '1'" @close="showModal = false" :key="1">
        <h3 slot="header">食費</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('food')" id="food_e">
                <div class="form-group">
                    設定額：<input v-bind:value="st_val" type="text" required="required" name="food_st_e" id="food_st_e">
                </div>
                <div class="form-group">
                    使用額：<input v-bind:value="`{{ data.food_ex }}`" type="text" required="required" name="food_ex_e" id="food_ex_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '2'" @close="showModal = false" :key="2">
        <h3 slot="header">日用品</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('daily')" id="daily_e">
                <div class="form-group">
                    設定額：<input v-bind:value="st_val" type="text" required="required" name="daily_st_e" id="daily_st_e">
                </div>
                <div class="form-group">
                    使用額：<input v-bind:value="`{{ data.daily_ex }}`" type="text" required="required" name="daily_ex_e"
                        id="daily_ex_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '3'" @close="showModal = false" :key="3">
        <h3 slot="header">趣味</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('hobby')" id="hobby_e">
                <div class="form-group">
                    設定額：<input v-bind:value="st_val" type="text" required="required" name="hobby_st_e" id="hobby_st_e">
                </div>
                <div class="form-group">
                    使用額：<input v-bind:value="`{{ data.hobby_ex }}`" type="text" required="required" name="hobby_ex_e"
                        id="hobby_ex_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '4'" @close="showModal = false" :key="4">
        <h3 slot="header">家賃</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('rent')" id="rent_f_e">
                <div class="form-group">
                    金額：<input v-bind:value="st_val" type="text" required="required" name="rent_e" id="rent_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '5'" @close="showModal = false" :key="5">
        <h3 slot="header">奨学金</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('scholar')" id="scholar_f_e">
                <div class="form-group">
                    金額：<input v-bind:value="st_val" type="text" required="required" name="scholar_e" id="scholar_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '6'" @close="showModal = false" :key="6">
        <h3 slot="header">光熱費</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('util')" id="util_f_e">
                <div class="form-group">
                    金額：<input v-bind:value="st_val" type="text" required="required" name="util_e" id="util_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '7'" @close="showModal = false" :key="7">
        <h3 slot="header">通信費・その他</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('other')" id="other_f_e">
                <div class="form-group">
                    金額：<input v-bind:value="st_val" type="text" required="required" name="other_e" id="other_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

    <modal v-if="showModal == '8'" @close="showModal = false" :key="8">
        <h3 slot="header">収入</h3>
        <div slot="body">
            <form v-on:submit.prevent="submit('income')" id="income_f_e">
                <div class="form-group">
                    金額：<input v-bind:value="st_val" type="text" required="required" name="income_e" id="income_e">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary">完了</button>
                </div>
            </form>
        </div>
    </modal>

</div>

<!--モーダルの中身のテンプレート-->
<script type="text/x-template" id="modal-template">
    <transition name="modal">
        <div class="modal-mask">
            <div class="modal-wrapper" @click.self="$emit('close')">
                <div class="modal-container">
                    <div class="modal-header">
                        <slot name="header"></slot>
                    </div>
 
                    <div class="modal-body">
                        <slot name="body"></slot>
                    </div>
 
                    <div class="modal-footer">
                        <slot name="footer"></slot>
                    </div>
                </div>
            </div>
        </div>
    </transition>
</script>

{% endblock %}